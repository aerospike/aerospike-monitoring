apiVersion: v1
kind: ConfigMap
metadata:
  name: prometheus-config
  namespace: monitoring
data:
  prometheus.yml: |
    global:
      scrape_interval: 15s

    # ðŸ‘‡ ONLY load files that end with .rules.yml
    rule_files:
      - /etc/prometheus/rules/*.rules.yml

    scrape_configs:
      #   this avoids RBAC issue
      # - job_name: 'kubernetes-nodes'
      #   kubernetes_sd_configs:
      #     - role: node

      - job_name: 'aerospike-exporter'
        static_configs:
          - targets: ['aerocluster-metrics.aerospike.svc.cluster.local:9145']
